$NetBSD: README.gcc9,v 1.5 2020/09/07 07:43:36 mrg Exp $

new stuff:
	cc1objcplus
	libmpx
	liboffloadmic
	libvtv
	libcet
	libphobos
	d
	gfortran


todo:
	- audit all uses of new warning-disable variables and
	  convert some from -Wno- to -Wno-error=

arch/feature list.

tools:		does build.sh tools work?
kernels:	does a kernel run?
libgcc:		does libgcc build?
native-gcc:	does a full mknative-gcc complete?
make release:	does build.sh release complete?
runs:		does the system boot with a full world?
atf:		does atf run / compare well
switched:	has port switched?  y (yes), n (no/ready), ? (not ready)


architecture	tools	kernels	libgcc	native-gcc	make release	runs	atf	switched
------------	-----	-------	------	----------	------------	----	---	--------
aarch64		y	y	y	y		y		y	y	n
aarch64be	y	y	y	y		?		?	?	n
alpha		y	y	y	y		y		?	?	n
earmv4		y	n	y	y		y		?	?	n
earmv4eb	y	n	n	y		n		?	?	n
earm		y	n	n	y		n		?	?	n
earmeb		y	n	n	y		n		?	?	n
earmhf		y	n	n	y		n		?	?	n
earmhfeb	y	n	n	y		n		?	?	n
earmv6		y	n	n	y		n		?	?	n
earmv6eb	y	n	n	y		n		?	?	n
earmv6hf	y	n	n	y		n		?	?	n
earmv6hfeb	y	n	n	y		n		?	?	n
earmv7		y	n	n	y		n		?	?	n
earmv7eb	y	n	n	y		n		?	?	n
earmv7hf	y	y	y	y		y		y	?	n
earmv7hfeb	y	n	n	y		n		?	?	n
hppa		y	y	y	y		y		?	?	n
i386		y	y	y	y		y		y	y	n
ia64		y	y	y	y		y		n	?	n
m68000		y	n	n	y		n[7]		n	?	?
m68k		y	y	y	y		y		n	?	?
mipseb		y	n	n	y		n[8]		n	n	n
mipsel		y	n	n	y		n[8]		n	n	n
mips64eb	y	y	y	y		y[3]		y	y[5]	n
mips64el	y	n	n	y		n[9]		n	n	n
powerpc		y	y	y	y		y[3]		n	n	n
powerpc64	y	n	n	y		n		?	n	n
sh3eb		y	n	y	y		n[1]		n	n	n
sh3el		y	n	y	y		n		n	n	n
sparc		y	y	y	y		y		y	y	n
sparc64		y	y	y	y		y		n	n	n
vax		y	n	y	y		n[2]		y	y	n
x86_64		y	y	y	y		y		y	y	n
riscv32		y	?	y	y		y		?	?	n	
riscv64		y	?	y	y		n[4]		?	?	n
--
coldfire	?	N/A	?	?		?		N/A	N/A
------------	-----	-------	------	----------	------------	----	---
architecture	tools	kernels	libgcc	native-gcc	make release	runs	atf

[1]: /usr/xsrc/external/mit/pixman/dist/pixman/pixman-fast-path.c: In function 'fast_composite_scaled_nearest_8888_565_normal_OVER':
     /usr/xsrc/external/mit/pixman/dist/pixman/pixman-fast-path.c:1204:1: internal compiler error: Segmentation fault
      1204 | FAST_NEAREST (8888_565_normal, 8888, 0565, uint32_t, uint16_t, OVER, NORMAL)
[2]: /usr/src/external/gpl3/gcc/dist/libsanitizer/sanitizer_common/sanitizer_mutex.h: In member function 'void __sanitizer::StaticSpinMutex::LockSlow()':
     /usr/src/external/gpl3/gcc/dist/libsanitizer/sanitizer_common/sanitizer_mutex.h:58:3: error: unable to generate reloads for:
     58 |   }
        |   ^
[3]: consult cpu/platform table for full data
[4]: triggers weird xorg-server issue; perhaps related to _XSERVER64 not being present
[5]: at least, as well as GCC 8 ran atf.
[7]: libstdc++ does not build
[8]: sanitizer fails with eg:
     /tmp//ccbvhjAd.s: Assembler messages:
     /tmp//ccbvhjAd.s:319922: Error: branch out of range
     [ ... ]
     asan_interceptors.pico
[9]: sanitizer fails with:
     --- pixman-mmx.po ---
     mips64el--netbsd/bin/as: unrecognized option `-mloongson-mmi'
     --> needs new binutils


CPU vs platform test table (for CPUs with multiple ports).  this is "make release" or just kernels.
values:		y (yes), k (kernels only), n (failed), r (running), ? (not attempted)

CPU		platform list
---		-------- ----
		acorn32		cats	epoc32	evbarm-eb	evbarm-el	hpcarm		iyonix		netwinder	shark 		zaurus
earmv4:		r		r	r	r		y		r		 		r		r		 
earm:		 		 	 	-		-		 		-		 		 		-
earmhf:		 		 	 	-		-		 		 		 		 		 
earmv6:		 		 	 	-		-		 		 		 		 		 
earmv6hf:	 		 	 	-		-		 		 		 		 		 
earmv7:		 		 	 	-		-		 		 		 		 		 
earmv7hf:	 		 	 	-		-		 		 		 		 		 

		amiga		atari	cesfic	hp300		luna68k		mac68k		mvme68k		news68k		next68k		sun3	x68k
m68k:		y		y	y	y		y		y		y		y		y		y 	y

		evbmips		emips		ews4800mips	mipsco		newsmips	sgimips
mipseb:		-		-		-		-		-		n

		evbmips		algor		arc		cobalt		hpcmips		pmax
mipsel:		n		-		-		-		-		-

		algor		evbmips		pmax
mips64eb:	 		y		 
mips64el:	n		n		n

		amigappc	bebox	evbppc	ibmnws		macppc		mvmeppc		ofppc		prep		rs6000		sandpoint
powerpc:	-		-	-	-		y		-		-		-		-		-

		evbppc		macppc		ofppc
powerpc64:	-		-		-

		dreamcast	evbsh3		hpcsh		landisk		mmeye
sh3eb:		-		-		-		-		-
sh3el:		-		-		-		-		-

